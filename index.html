<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard</title>
    <!-- Boostrap and style -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" />

    <!-- Moment, jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.0/moment.min.js" integrity="sha512-Izh34nqeeR7/nwthfeE0SI3c8uhFSnqxV0sI9TvTcXiFJkMd6fB644O64BRq2P/LA/+7eRvCw4GmLsXksyTHBg==" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

</head>
<body>
    
    <div class="container">
        <div class="row"><h1 class="h1">Weather Dashboard</h1></div>
     <div class="row">
         <h3>Search for a City </h3>
     </div> 
     <div class="row">   
         <input id="citySearch" type="text">
         <button id="buttonSearch" class="btn btn-info">Search</button>
     </div>
     <div  class="row">
         <div id="cities" class="col-md-3">
            <ul id="listcities" class="list-group list-group-flush">
                <!--cities we are looking for-->
              </ul>                   
         </div>
         <div class="col-md-9">
             <div id="currentCity" class="row">Please type a City</div>
             <div class="row"><h3>5 days Forecast</h3></div>
          
            
                  <div class="card-deck">
                    <div class="card text-white bg-info">
                        <div class="card-header">Dia Uno</div>
                         <div class="card-body">
                           <p class="card-text">info Dia uno.</p>
                          </div>
                       </div>

                    <div class="card text-white bg-info">
                        <div class="card-header">Dia Dos</div>
                         <div class="card-body">
                           <p class="card-text">info Dia dos.</p>
                          </div>
                       </div>

                       <div class="card text-white bg-info">
                        <div class="card-header">Dia Tres</div>
                         <div class="card-body">
                           <p class="card-text">info Dia tres.</p>
                          </div>
                       </div>
                       <div class="card text-white bg-info">
                        <div class="card-header">Dia Cuatro</div>
                         <div class="card-body">
                           <p class="card-text">info Dia cuatro.</p>
                          </div>
                       </div>

                    <div class="card text-white bg-info">
                        <div class="card-header">Dia Cinco</div>
                         <div class="card-body">
                           <p class="card-text">info Dia cinco.</p>
                          </div>
                       </div>

                  </div>
             
        </div>
     </div>
    </div>


<script>
        var today = moment().format('LLL');
       //        var urlWeather = "http://api.openweathermap.org/data/2.5/weather?q=" + ciudad + "&appid=99301d0cd337422b7e967fbf9be0bf70";
        //var urlForecast = "api.openweathermap.org/data/2.5/forecast?q={Austin}&appid={99301d0cd337422b7e967fbf9be0bf70}";
        console.log(today);
     
 
// Search Button 
$(document).on("click", "#buttonSearch", searchCity);


//Searching City
function searchCity(){
    var cityL = $("#citySearch").val();
    if (cityL == ""){
       alert("Please type a City");
    }
    else{
    // Show in the list 
    var liEl = $("<li>");
    liEl.addClass("list-group-item");
    $("#listcities").prepend(liEl);
    liEl.text(cityL);
        
    // clear Text area
    $("#citySearch").val("");
  
    weatherCityDisplay();
     
    }
}

//shows data for that city
function weatherCityDisplay(){

    var ciudad="austin";
    var urlWeather = "http://api.openweathermap.org/data/2.5/weather?q=" + ciudad + "&units=imperial&appid=99301d0cd337422b7e967fbf9be0bf70";

$.ajax({         
        url : urlWeather,
         method : "GET"}).
         then (function(response){
       //look info
        var nameCity = response.name;
        var tempCity = response.main.temp;
        var feelCity = response.main.feels_like;
        var humidityCity = response.main.humidity;
        var windCity = response.wind.speed;

        var divEl = $("#currentCity"); 
        //var cleanDiv = " ";

        divEl.empty();


        var nameC = $("<h1>").text(nameCity);
        divEl.append(nameC);

        var tempC = $("<p>").text("Temperature : " + tempCity + "F");
        divEl.append(tempC);

        var feelC = $("<p>").text("Feels Like  : " + feelCity + "F");
        divEl.append(feelC);

        var humidityC = $("<p>").text("Humidity  : " + humidityCity +"%");
        divEl.append(humidityC);

        var windC = $("<p>").text("wind : " + windCity + "m/h");
        divEl.append(windC);

          console.log(response);
         });


}


</script>
    
    
</body>
</html>